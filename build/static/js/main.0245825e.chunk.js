(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,function(e,t,a){e.exports={"cart-items":"Cart_cart-items__2pjQw",total:"Cart_total__3pLin",actions:"Cart_actions__1GOmr","button--alt":"Cart_button--alt__1Z2QQ",button:"Cart_button__fw1-t"}},function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__3NKCv",summary:"CartItem_summary__3Vk0a",price:"CartItem_price__2HjaL",amount:"CartItem_amount__1Qj26",actions:"CartItem_actions__BO_bF"}},,function(e,t,a){e.exports={button:"HeaderCartButton_button__3CMOT",icon:"HeaderCartButton_icon__9KWtg",badge:"HeaderCartButton_badge__1Z3gL",bump:"HeaderCartButton_bump__3atD4"}},,,function(e,t,a){e.exports={meal:"MealItems_meal__17WOu",description:"MealItems_description__2Es04",price:"MealItems_price__VEjTi"}},function(e,t,a){e.exports={header:"header_header__3kiYu","main-image":"header_main-image__17GEt"}},function(e,t,a){e.exports={modal:"ModalOverlay_modal__VQm5y","slide-down":"ModalOverlay_slide-down__50rQw"}},,,,function(e,t,a){e.exports={backdrop:"Backdrop_backdrop__1uHu4"}},function(e,t,a){e.exports={summary:"MealsSumary_summary__1upWB"}},function(e,t,a){e.exports={meals:"AvailableMeals_meals__2ZLCP","meals-appear":"AvailableMeals_meals-appear__ONwLi"}},function(e,t,a){e.exports={card:"Card_card__1m44e"}},function(e,t,a){e.exports={input:"Input_input__2swPp"}},function(e,t,a){e.exports={form:"MealItemForm_form__3HI-h"}},,,,,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(15),c=a.n(n),r=(a(29),a(1)),i=a.n(r),o=a.p+"static/media/meals.2971f633.jpg",s=a(11),u=a.n(s),l=a(3),d=a(7),m=a.n(d),j=a(0),b=function(e){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(j.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},p=a(2),O=a(13),x=i.a.createContext({showPopup:!1,cart:[],totalAmount:0,togglepopup:function(e){},closePopup:function(){},addItemToCart:function(e){},removeItemFromCart:function(e){}}),h=function(e,t){switch(t.type){case"ADD_ITEM":var a=Object(O.a)(e.items),n=e.totalAmount+parseInt(t.payload.amount)*t.payload.price,c=a.findIndex((function(e){return e.id===t.payload.id})),r=a[c];if(r){var i=Object(p.a)({},r);return i.amount+=parseInt(t.payload.amount),a[c]=i,{items:a,totalAmount:n}}return{items:a.concat(t.payload),totalAmount:n};case"RM_ITEM":var o=Object(O.a)(e.items),s=o.findIndex((function(e){return e.id===t.payload.id})),u=o[s],l=Object(p.a)({},u);l.amount>0?l.amount-=1:l.amount=0;var d=e.totalAmount-l.price;return l.amount>0?o[s]=l:o.splice(s,1),{items:o,totalAmount:d};default:return Object(p.a)({},e)}},_=function(e){var t=Object(r.useState)(!1),a=Object(l.a)(t,2),n=a[0],c=a[1],i=Object(r.useReducer)(h,{items:[],totalAmount:0}),o=Object(l.a)(i,2),s=o[0],u=o[1];return Object(j.jsx)(x.Provider,{value:{showPopup:n,cart:s.items,totalAmount:s.totalAmount,togglepopup:function(e){c(e)},closePopup:function(){c(!1)},addItemToCart:function(e){e.amount>0&&u({type:"ADD_ITEM",payload:e})},removeItemFromCart:function(e){u({type:"RM_ITEM",payload:e})}},children:e.children})},f=x,v=function(e){var t=Object(r.useContext)(f),a=t.cart,n=Object(r.useState)(!1),c=Object(l.a)(n,2),i=c[0],o=c[1],s=t.cart.reduce((function(e,t){return e+t.amount}),0),u="".concat(m.a.button," ").concat(i?m.a.bump:"");return Object(r.useEffect)((function(){o(!0);var e=setTimeout((function(){o(!1)}),300);return function(){clearTimeout(e)}}),[a]),Object(j.jsxs)("button",{className:u,onClick:function(){return t.togglepopup(!0)},children:[Object(j.jsx)("span",{className:m.a.icon,children:Object(j.jsx)(b,{})}),Object(j.jsx)("span",{children:"Your Cart"}),Object(j.jsx)("span",{className:m.a.badge,children:s})]})},C=a(8),y=a(16),I=a.n(y),g=function(e){return Object(j.jsx)("div",{className:I.a.backdrop,onClick:e.close})},N=a(12),A=a.n(N),w=function(e){return Object(j.jsx)("div",{className:A.a.modal,children:Object(j.jsx)("div",{className:A.a.content,children:e.children})})},M=function(e){return Object(j.jsxs)(r.Fragment,{children:[Object(C.createPortal)(Object(j.jsx)(g,{close:e.close}),document.querySelector("#cart-items")),Object(C.createPortal)(Object(j.jsx)(w,{children:e.children}),document.querySelector("#cart-items"))]})},T=a(4),P=a.n(T),k=a(5),H=a.n(k),F=function(e){var t="Rs ".concat(e.price.toFixed(2));return Object(j.jsxs)("li",{className:H.a["cart-item"],children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:e.name}),Object(j.jsxs)("div",{className:H.a.summary,children:[Object(j.jsx)("span",{className:H.a.price,children:t}),Object(j.jsxs)("span",{className:H.a.amount,children:["x ",e.amount]})]})]}),Object(j.jsxs)("div",{className:H.a.actions,children:[Object(j.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(j.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},B=function(){var e=Object(r.useContext)(f),t=e.cart.length>0,a=Object(j.jsx)("ul",{className:P.a["cart-items"],children:e.cart.map((function(t){return Object(j.jsx)(F,{price:t.price,amount:t.amount,name:t.name,onAdd:function(){return e.addItemToCart(Object(p.a)(Object(p.a)({},t),{},{amount:1}))},onRemove:function(){return function(t){e.removeItemFromCart(t)}(t)}},t.id)}))});return Object(j.jsxs)(M,{close:function(){return e.closePopup()},children:[a,Object(j.jsxs)("div",{className:P.a.total,children:[Object(j.jsx)("span",{children:"Total Amount"}),Object(j.jsx)("span",{children:e.totalAmount.toFixed(2)})]}),Object(j.jsxs)("div",{className:P.a.actions,children:[Object(j.jsx)("button",{className:P.a["button--alt"],onClick:function(){return e.closePopup()},children:"close"}),t&&Object(j.jsx)("button",{className:P.a.button,children:"Order"})]})]})},E=function(e){var t=Object(r.useContext)(f);return Object(j.jsxs)(r.Fragment,{children:[Object(j.jsxs)("header",{className:u.a.header,children:[Object(j.jsx)("h1",{children:"Govinda's Prasadam"}),Object(j.jsx)(v,{})]}),Object(j.jsx)("div",{className:u.a["main-image"],children:Object(j.jsx)("img",{src:o,alt:"Table of delicious Krishna Prasadam"})}),t.showPopup&&Object(j.jsx)(B,{})]})},R=a(17),D=a.n(R),S=function(e){return Object(j.jsxs)("section",{className:D.a.summary,children:[Object(j.jsx)("h2",{children:"Delicious Prasadam, Delivered To You"}),Object(j.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(j.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})},Q=a(18),G=a.n(Q),L=a(19),z=a.n(L),V=function(e){return Object(j.jsx)("div",{className:z.a.card,children:e.children})},q=a(10),K=a.n(q),W=a(20),Y=a.n(W),Z=i.a.forwardRef((function(e,t){return Object(j.jsxs)("div",{className:Y.a.input,children:[Object(j.jsx)("label",{htmlFor:e.type.id,children:e.title}),Object(j.jsx)("input",Object(p.a)(Object(p.a)({},e.type),{},{ref:t}))]})})),J=a(21),U=a.n(J),X=function(e){var t=Object(r.useRef)(),a=Object(r.useState)(!0),n=Object(l.a)(a,2),c=n[0],i=n[1];return Object(j.jsxs)("form",{className:U.a.form,onSubmit:function(a){a.preventDefault();var n=parseInt(t.current.value);n<0||n>5?i(!1):e.addItemToCart(n)},children:[Object(j.jsx)(Z,{title:"Amount",type:{type:"number",id:"amount_".concat(e.id),min:1,max:5,step:1,defaultValue:1},ref:t}),Object(j.jsx)("button",{children:"+ Add"}),!c&&Object(j.jsx)("p",{children:"Please enter a valid amount in between 1-5"})]})},$=function(e){var t=Object(r.useContext)(f);return Object(j.jsxs)("li",{className:K.a.meal,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:e.name}),Object(j.jsx)("div",{className:K.a.description,children:e.description}),Object(j.jsx)("div",{className:K.a.price,children:"".concat(e.price.toFixed(2))})]}),Object(j.jsx)("div",{children:Object(j.jsx)(X,{id:e.id,addItemToCart:function(a){t.addItemToCart(Object(p.a)(Object(p.a)({},e),{},{amount:a}))}},e.id)})]})},ee=[{id:"m1",name:"Govinda's special",description:"A satvik diet",price:22.99},{id:"m2",name:"Schnitzel",description:"A german specialty!",price:16.5},{id:"m3",name:"Indian Thali",description:"Indian, raw, fry",price:12.99},{id:"m4",name:"Green Bowl",description:"Healthy...and green...",price:18.99}],te=function(){return Object(j.jsx)("section",{className:G.a.meals,children:Object(j.jsx)(V,{children:Object(j.jsx)("ul",{children:ee.map((function(e){return Object(j.jsx)($,{name:e.name,description:e.description,price:e.price,id:e.id},e.id)}))})})})},ae=function(e){return Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)(S,{}),Object(j.jsx)(te,{})]})};var ne=function(){return Object(j.jsxs)(_,{children:[Object(j.jsx)(E,{}),Object(j.jsx)("main",{children:Object(j.jsx)(ae,{})})]})};c.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(ne,{}))}],[[31,1,2]]]);
//# sourceMappingURL=main.0245825e.chunk.js.map